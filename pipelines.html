<!DOCTYPE html>
<html lang="en" dir="ltr" class="">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="keywords" content="guía, doc, documentación, api doc, catálogo, documentación de código, doc, documentos, documentación, plantilla de documentación, herramienta de documentación, primeros pasos, guía, ayuda, manual, documentación en línea, referencia, especificación">
	<meta name="description" content="Guidex - Online Multipurpose Documentation HTML Template.">
	<meta name="author" content="ashishmaraviya">

	<title>SideProject - Documentación Knowledgebase</title>

	<!-- App favicon -->
	<link rel="apple-touch-icon" sizes="180x180" href="assets/img/favicon/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon/favicon-16x16.png">
	<link rel="manifest" href="assets/img/favicon/site.webmanifest">
	<link rel="mask-icon" href="assets/img/favicon/safari-pinned-tab.svg" color="#5bbad5">
	<meta name="msapplication-TileColor" content="#da532c">
	<meta name="theme-color" content="#ffffff">

	<!-- Icon CSS -->
	<link href="assets/css/vendor/materialdesignicons.min.css" rel="stylesheet">
	<link href="assets/css/vendor/remixicon.css" rel="stylesheet">

	<!-- Vendor -->
	<link href="assets/css/vendor/bootstrap.min.css" rel="stylesheet">
	<link href="assets/css/vendor/prism.css" rel="stylesheet">

	<!-- Main CSS -->
	<link id="mainCss" href="assets/css/style.css" rel="stylesheet">
	<link id="colorCss" href="assets/css/blue.css" rel="stylesheet">

	<!-- Dark Mode -->
	<link href="assets/css/dark-mode/switch.css" rel="stylesheet">
	<!-- <link href="assets/css/dark-mode/dark-mode.css" rel="stylesheet">
	<link href="assets/css/dark-mode/grey.css" rel="stylesheet"> -->

</head>

<body>

	<main class="wrapper sb-default">

		<!-- Header -->
		<header class="gx-header">
			<div class="container-fluid">
				<div class="gx-header-items">
					<a href="index.html" class="gx-toggle-sidebar">
						<strong><img src="assets/img/favicon/favicon-32x32.png" /> RESUME TECHNOLOGIES</strong>
					</a>
					<div class="right-header" style="margin-left: auto;order: 2;">
						<div class="header-search-box me-3">
							<div class="header-search-drop">
								<a href="javascript:void(0)" class="open-search"><i class="ri-search-line"></i></a>
								<form class="gx-search">
									<input class="search-input" type="text" placeholder="Buscar...">
									<a href="javascript:void(0)" class="search-btn"><i class="ri-search-line"></i>
									</a>
								</form>

							</div>
						</div>
						<div class="form-check form-switch ms-auto mt-2 me-4">
							<label class="form-check-label ms-3" for="lightSwitch">
								<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-moon-stars" viewBox="0 0 16 16">
									<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon-stars" viewBox="0 0 16 16">
										<path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z" />
										<path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z" />
									</svg>
								</svg>
							</label>
							<input class="form-check-input lightSwitch" type="checkbox" id="darkMode">
						</div>
						<!-- <div class="right-header">
							<a href="javascript:void(0)" class="btn-topic me-1"><i class="ri-menu-2-line"></i></a>
						</div> -->
					</div>
				</div>

			</div>
		</header>

		<!-- main content -->
		<div class="gx-main-content">
			<div class="container">

				<!-- Banner Title -->
				<div class="gx-banner-auth gx-card">
					<div class=" gx-detail">
						<div class="gx-image">
							<img src="assets/img/sections/pipelines.png" alt="Pipelines Bitbucket">
						</div>
						<ul class="auth-detail">
							<h2 class="text-white">PIPELINES BUTBUCKET</h2>
							<p class="text-white">Pipelines Butbucket es utilizado para realizar CD/CI en nuestro proyecto</p>
							<li><strong>Version: </strong>&nbsp; 1.0.0</li>
							<li><strong>Data Version : </strong>&nbsp; Nov/2023</li>
						</ul>
					</div>
				</div>

				<!-- Content -->
				<div class="row sections">
					<div class="gx-side-overlay"></div>

					<!-- Menu -->
					<div class="col-xl-3 col-md-12 gx-topic">
						<div class="gx-card topic-sidebar">
							<div class="gx-card-header">
								<h4 class="gx-card-title">Índice</h4>
							</div>
							<div class="gx-card-content gx-topic-list">
								<nav>
									<ul class="gx-sb-list">
										<li class="gx-sb-item sb-drop-item">
											<a href="javascript:void(0)" class="gx-drop-toggle">
												<i class="ri-dashboard-3-line"></i>
												<span class="condense">Primeros Pasos<i
													   class="drop-arrow ri-arrow-down-s-line"></i></span>
											</a>
											<ul class="gx-sb-drop condense">
												<li class="list"><a href="pipelines.html#div1"
													   class="gx-page-link drop"><i
														   class="ri-record-circle-line"></i>¿Qué son los Pipeline?</a></li>
												<li class="list"><a href="pipelines.html#div2"
													   class="gx-page-link drop"><i
														   class="ri-record-circle-line"></i>Creación de Clave SSH</a></li>
												<li class="list"><a href="pipelines.html#div3"
													   class="gx-page-link drop"><i
														   class="ri-record-circle-line"></i>Configuración de SSH en Bitbucket</a></li>
												<li class="list"><a href="pipelines.html#div4"
													   class="gx-page-link drop"><i
														   class="ri-record-circle-line"></i>Configuración de SFTP o FTP</a></li>
												<li class="list"><a href="pipelines.html#div5"
													   class="gx-page-link drop"><i
														   class="ri-record-circle-line"></i>Variables Globales en Bitbucket</a></li>
											</ul>
										</li>
										<li class="gx-sb-title condense">Configuración</li>
										<li class="gx-sb-item sb-drop-item">
											<a href="javascript:void(0)" class="gx-drop-toggle">
												<i class="ri-install-line"></i>
												<span class="condense">CD/CI Bitbucket<i
													   class="drop-arrow ri-arrow-down-s-line"></i></span>
											</a>
											<ul class="gx-sb-drop condense">
												<li class="list"><a href="pipelines.html#div6"
													   class="gx-page-link drop"><i
														   class="ri-record-circle-line"></i>Implementación</a></li>
											</ul>
										</li>
										<li class="gx-sb-title condense">Info</li>
										<li class="gx-sb-item">
											<a href="pipelines.html#resources" class="gx-page-link">
												<i class="ri-star-smile-line"></i><span class="condense"><span
														  class="hover-title">Recursos</span> </span>
											</a>
										</li>
									</ul>
								</nav>
							</div>
						</div>
					</div>

					<!-- Content -->
					<div class="col-xl-9 col-md-12">
						<!-- STEP 1 -->
						<div class="gx-block">
							<div class="gx-card gx-page-block" id="div1">
								<div class="gx-card-header header-575">
									<h4 class="gx-card-title">¿Qué son las Pipeline?</h4>
									<div class="header-tools">
										<a href="#" class="m-r-10 gx-full-card">
											<i class="ri-fullscreen-line" title="Full Screen"></i></a>
									</div>
								</div>
								<div class="gx-card-content">
									<div class="intro">
										<h1 class="main-heding">¿Qué son los Bitbucket Pipelines?</h1>
										<p>En resumen, los pipelines de Bitbucket son una herramienta poderosa para automatizar y administrar el proceso de desarrollo de software, desde la construcción y prueba hasta el despliegue. Esto ayuda a los equipos de desarrollo a mejorar la calidad del código y acelerar la entrega de software al proporcionar un entorno de integración continua y entrega continua (CI/CD) integrado en la plataforma de Bitbucket.
										</p>
										<p>Aquí hay algunas características clave de los pipelines de Bitbucket:</p>
										<p>
										<ul>
											<li><strong>Automatización de la Integración Continua (CI):</strong> Con los pipelines de Bitbucket, puedes configurar flujos de trabajo de CI que se ejecutan automáticamente cuando se envía código a tu repositorio. Esto incluye la compilación y prueba de tu código en diferentes entornos y configuraciones.</li>

											<li><strong>Configuración mediante YAML:</strong> Puedes definir tus flujos de trabajo de CI/CD en un archivo bitbucket-pipelines.yml en la raíz de tu repositorio. Este archivo permite configurar los pasos de construcción, pruebas y despliegue de manera flexible.</li>

											<li><strong>Integración con Docker:</strong> Los pipelines de Bitbucket se integran de forma nativa con Docker, lo que te permite crear, ejecutar y probar aplicaciones en contenedores Docker. Esto facilita la gestión de dependencias y la consistencia en diferentes entornos.</li>

											<li><strong>Despliegue Continuo (CD):</strong> Además de la construcción y prueba, puedes usar pipelines para automatizar el proceso de despliegue de tu aplicación en diferentes entornos, como servidores de prueba, preproducción y producción.</li>

											<li><strong>Notificaciones y Registro:</strong> Los pipelines proporcionan registros detallados de ejecución y notificaciones sobre el estado de tus flujos de trabajo, lo que facilita la detección y resolución de problemas.</li>

											<li><strong>Escalabilidad:</strong> Bitbucket Pipelines es escalable y se adapta a las necesidades de tu proyecto, ya sea un proyecto pequeño o un desarrollo empresarial a gran escala.</li>
										</ul>
										</p>
									</div>
								</div>
							</div>
						</div>
						<!-- STEP 2 -->
						<div class="gx-block">
							<div class="gx-card gx-page-block" id="div2">
								<div class="gx-card-header header-575">
									<h4 class="gx-card-title">Creación de Clave SSH</h4>
									<div class="header-tools">
										<a href="#" class="m-r-10 gx-full-card">
											<i class="ri-fullscreen-line" title="Full Screen"></i></a>
									</div>
								</div>
								<div class="gx-card-content">
									<div class="intro">
										<p>En primer lugar, desde nuestra terminal Git Bash (Windows) ejecutamos el siguiente comando:</p>
										<pre class="language-markup">ssh-keygen -t rsa -b 4096 -C "programacion@email.com"</pre>

										<p>A continuación se nos preguntará por el nombre del fichero donde queremos guardar nuestra clave. Podemos simplemente pulsar "Intro" para usar el nombre por defecto id_rsa o también podemos especificar uno manualmente y pulsar "Intro".</p>

										<pre class="language-markup">Enter file in which to save the key (/c/Users/nombre/.ssh/id_rsa):</pre>

										<p>El siguiente mensaje nos preguntará por la frase de seguridad, la cual protegerá nuestra clave si alguien accede a la máquina donde hemos almacenado nuestra clave privada.</p>

										<pre class="language-markup">Enter passphrase (empty for no passphrase):</pre>

										<p>En este punto nuestras claves SSH se habrán generado en dos ficheros, en la ruta que habíamos especificado. Uno de ellos contendrá nuestra clave privada a partir del nombre que hayamos especificado en el paso 2. y otro (con el mismo nombre pero con extensión .pub) contendrá nuestra clave pública.</p>

										<p>El programa ssh-agent es el encargado de almacenar y gestionar las claves privadas durante las conexiones, por lo que si no queremos tener que escribir nuestra frase de seguridad cada vez que usemos nuestra clave SSH, debemos hacer uso de él.</p>

										<p>Comprobamos que el agente se está ejecutando (y lo arrancamos si no lo estuviera):</p>

										<pre class="language-markup">eval "$(ssh-agent -s)"</pre>

										<p>Tendremos como respuesta el identificador del proceso:</p>

										<pre class="language-markup">Agent pid 445</pre>

										<p>Para asegurarnos de que el servicio ssh-agent arranque de forma automática en Windows, debemos ejecutar el siguiente comando desde PowerShell como administrador Get-Service ssh-agent | Set-Service -StartupType Automatic.</p>

										<p>Añadimos nuestra clave al agente SSH:</p>

										<pre class="language-markup">ssh-add /c/Users/nombre/.ssh/id_rsa</pre>

										<p>En este paso se nos solicitará que la introduzcamos.</p>
									</div>
								</div>
							</div>
						</div>
						<!-- STEP 3 -->
						<div class="gx-block">
							<div class="gx-card gx-page-block" id="div3">
								<div class="gx-card-header header-575">
									<h4 class="gx-card-title">Configuración de SSH en Bitbucket</h4>
									<div class="header-tools">
										<a href="#" class="m-r-10 gx-full-card">
											<i class="ri-fullscreen-line" title="Full Screen"></i></a>
									</div>
								</div>
								<div class="gx-card-content">
									<div class="intro">
										<p>Para hacer uso de SSH con Bitbucket, en primer lugar debemos añadir nuestra clave pública a nuestro perfil de Bitbucket, para ello:</p>
										<ul>
											<li>1. Accedemos a nuestra configuración personal (Personal Bitbucket Settings).</li>

											<li>2. Clicamos en la opción de seguridad SSH keys. Si ya tenemos claves añadidas, las veremos en esta pantalla.</li>

											<li>3. Abrimos nuestro fichero .ssh/id_rsa.pub (o con el nombre que le hayamos indicado para el fichero de la clave pública).</li>

											<li>4. Copiamos el contenido del fichero de la clave pública (es posible que veamos nuestro email en la última línea del fichero, con lo que no importa si copiamos o no dicha línea).</li>

											<li>5. Desde el panel de Bitbucket pulsamos en Add key.</li>

											<li>6. Introducimos una etiqueta (Label) para nuestra nueva clave.</li>

											<li>7. Pegamos la clave pública copiada en el campo Key.</li>

											<li>8. Pulsamos en Add key para guardar los cambios.</li>

											<li>9. Bitbucket nos enviará un email para avisarnos sobre la adicción de la nueva clave.</li>
										</ul>

										<p>En este punto ya podemos volver a nuestra línea de comandos y verificar nuestra configuración mediante el siguiente comando:</p>

										<pre class="language-markup">ssh -T git@bitbucket.org</pre>

										<p>Se nos mostrará un mensage del tipo You can use git to connect to Bitbucket., que nos indica que ya nos podemos conectar a Bitbucket con dicha clave.</p>

										<p>Ahora ya tenemos nuestra clave SSH configurada</p>
									</div>
								</div>
							</div>
						</div>
						<!-- STEP 4 -->
						<div class="gx-block">
							<div class="gx-card gx-page-block" id="div4">
								<div class="gx-card-header header-575">
									<h4 class="gx-card-title">Configuración de SFTP o FTP</h4>
									<div class="header-tools">
										<a href="#" class="m-r-10 gx-full-card">
											<i class="ri-fullscreen-line" title="Full Screen"></i></a>
									</div>
								</div>
								<div class="gx-card-content">
									<div class="intro">
										<p>La configuración de SFTP o FTP es un paso requerido antes de terminar con la implementación de CD/CI ya que es necesario para que bitbucket traspase los datos de sus servidores al nuestro</p>
										<p>Dado la de posibilidades de configuración que existen para ello, podremos configurar FTP, FTPES o SFTP, siendo este último el mejor debido a su seguidad</p>
										<p>Debermeos tener habilitado en nuestro firewall los puertos 21 y/o 22</p>
										<p>Deberemos tener creado un usuario con acceso de RW hacia la carpeta del proyecto que vayamos a trabajar, cabe decir que si utilizamos FTP podemos hacer uso del servidor MOZILLA SERVER, que nos ayuda en la gestión de estos usuarios y paths., pero tiene el inconveniente de que no funciona con SFTP</p>
									</div>
								</div>
							</div>
						</div>
						<!-- STEP 5 -->
						<div class="gx-block">
							<div class="gx-card gx-page-block" id="div5">
								<div class="gx-card-header header-575">
									<h4 class="gx-card-title">Configuración de variables globales en Bitbucket</h4>
									<div class="header-tools">
										<a href="#" class="m-r-10 gx-full-card">
											<i class="ri-fullscreen-line" title="Full Screen"></i></a>
									</div>
								</div>
								<div class="gx-card-content">
									<div class="intro">
										<p>Entraremos en nuestro perfil de Bitbucket y nos dirigiremos a</p>

										<pre><code class="language-markup">Repositories >> Settings >> Workspace Settings >> Workspace Variables</code></pre>

										<p>Añadimos las variables de conexión que utilizaremos en todos los proyectos a instalar en este ser</p>
										<img src="assets/img/sections/Bitbucket.png" />
									</div>
								</div>
							</div>
						</div>
						<!-- STEP 6 -->
						<div class="gx-block">
							<div class="gx-card gx-page-block" id="div6">
								<div class="gx-card-header header-575">
									<h4 class="gx-card-title">Implementación CD/CI en Bitbucket</h4>
									<div class="header-tools">
										<a href="#" class="m-r-10 gx-full-card">
											<i class="ri-fullscreen-line" title="Full Screen"></i></a>
									</div>
								</div>
								<div class="gx-card-content">
									<div class="intro">
										<ul>
											<li>1. Crearemos en el raiz de cada proyecto un archivo llamado bitbucket-pipelines.yml con el siguiente script</li>
											<pre class="language-markup">
image: bitnami/git

pipelines:
	custom:
		init:
			- step:
				name: First Commit - Git Ftp Init
				script:
					- apt-get update
					- apt-get -qq install git-ftp
					- git reset --hard
					- git ftp push -vv -u "$FTP_USER" -p "$FTP_PASS" sftp://$FTP_URL/eFactura/ --insecure
	branches:
		main:
			- step:
				name: Deploy to Production FTP
				deployment: production
				script:
					- apt-get update
					- apt-get -qq install git-ftp
					- git ftp push -vv -u "$FTP_USER" -p "$FTP_PASS" sftp://$FTP_URL/NAME_FOLDER_IN_SERVER/ --insecure
											</pre>
											<li>2. En dicho script deberemos editar la fila 21 donde indicaremos la carpeta de publicacion del proyecto dentro del servidor.

											<li>3. Commitaremos los cambios y iremos al panel de Bitbucket para ver los resultados dentro del repositorio correspondiente en la sección Pipelines.</li>

											<li>NOTA: en este pipeline utilizo git ftp para que solo actualice el último commit realizado, para ello es necesario de agregar una serie de archivos para la gestión correcta del proyecto, que son explicados en el apartado específico de gitFtp.</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
						<!-- RESOURCES -->
						<div class="gx-block">
							<div class="gx-card gx-page-block" id="resources">
								<div class="gx-card-header header-575">
									<h4 class="gx-card-title">Recursos</h4>
									<div class="header-tools">
										<a href="#" class="m-r-10 gx-full-card">
											<i class="ri-fullscreen-line" title="Full Screen"></i></a>
									</div>
								</div>
								<div class="gx-card-content">
									<div class="intro">

										<h3>Referencias</h3>
										<br />
										<h5>Pipelines Bitbucket</h5>
										<a href="https://bitbucket.org/product/es/features/pipelines" target="_blank">https://bitbucket.org/product/es/features/pipelines</a>
										<a href="https://www.atlassian.com/es/devops/continuous-delivery-tutorials/continuous-delivery-bitbucket-pipelines" target="_blank">https://www.atlassian.com/es/devops/continuous-delivery-tutorials/continuous-delivery-bitbucket-pipelines</a>
										<a href="https://support.atlassian.com/bitbucket-cloud/docs/get-started-with-bitbucket-pipelines/" target="_blank">https://support.atlassian.com/bitbucket-cloud/docs/get-started-with-bitbucket-pipelines/</a>
										<br />
										<br />
										<h5>Mozilla Server </h5>
										<a target="_blank" href="https://www.redeszone.net/tutoriales/servidores/filezilla-server-servidor-ftp-ftpes-configuracion-windows/">https://www.redeszone.net/tutoriales/servidores/filezilla-server-servidor-ftp-ftpes-configuracion-windows/</a>
										<a target="_blank" href="https://www.youtube.com/watch?v=MHW3qfYkZN8">https://www.youtube.com/watch?v=MHW3qfYkZN8</a>
										<br />
										<br />
										<h5>Claves SSH</h5>
										<a target="_blank" href="https://www.atlassian.com/es/git/tutorials/git-ssh">https://www.atlassian.com/es/git/tutorials/git-ssh</a>
										<a target="_blank" href="http://bitsmi.com/2018/11/04/autenticacion-en-bitbucket-mediante-ssh/">http://bitsmi.com/2018/11/04/autenticacion-en-bitbucket-mediante-ssh/</a>

									</div>
								</div>
							</div>
						</div>
					</div>
				</div>


			</div>
		</div>

	</main>

	<!-- Vendor Custom -->
	<script src="assets/js/vendor/jquery-3.6.4.min.js"></script>
	<script src="assets/js/vendor/bootstrap.bundle.min.js"></script>
	<script src="assets/js/vendor/prism.js"></script>
	<!-- Switch Dark Mode -->
	<script src="assets/js/darkmode.js"></script>
	<!-- Main Custom -->
	<script src="assets/js/main.js"></script>
</body>

</html>
